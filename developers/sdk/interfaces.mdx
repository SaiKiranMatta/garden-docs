---
title: "Interfaces"
description: "Core interfaces and their methods used in the Garden SDK"
---

## IGardenJS

The main interface for the Garden SDK, providing access to all core functionality.

```typescript
interface IGardenJS {
  get evmHTLC(): IEVMHTLC | undefined;
  get starknetHTLC(): IStarknetHTLC | undefined;
  get quote(): IQuote;
  get btcWallet(): IBitcoinWallet | undefined;
  get orderbook(): IOrderbook;
  get blockNumberFetcher(): IBlockNumberFetcher;
  get secretManager(): ISecretManager;
  get auth(): IAuth;
  get digestKey(): DigestKey;
  swap(params: SwapParams): AsyncResult<MatchedOrder, string>;
  execute(): Promise<() => void>;
}
```

## IAuth

Handles authentication and authorization for Garden SDK operations.

```typescript
interface IAuth {
    /**
     * Get a token from store if available or fetch from the wallet
     * @returns verified token
     */
    getToken(): AsyncResult<string, string>;
    
    /**
     * Verify the token expiry and account
     * @param token The token to verify
     * @param account The account to verify the token against
     */
    verifyToken(token: string, account: string): Result<boolean, string>;
    
    /**
     * Retrieves the authentication token and formats it into the appropriate header object.
     * Example: For API keys, returns { 'api-key': apiKey }
     * Example: For SIWE, returns { Authorization: 'Bearer token' }
     * @returns An AsyncResult containing the formatted auth header object or an error message
     */
    getAuthHeaders(): AsyncResult<AuthHeader, string>;
}
```

<Info>
The IAuth interface supports both API key and SIWE (Sign-In with Ethereum) authentication methods.
</Info>

## IQuote

Handles quote requests and strategy information.

```typescript
interface IQuote {
  getQuote(
    orderpair: string,
    amount: number,
    isExactOut: boolean
  ): AsyncResult<QuoteResponse, string>;
  
  getAttestedQuote(
    order: CreateOrderReqWithStrategyId
  ): AsyncResult<CreateOrderRequestWithAdditionalData, string>;
  
  getStrategies(): AsyncResult<Strategies, string>;
}
```

## IOrderProvider

Base interface for order data operations.

```typescript
interface IOrderProvider {
  getOrder<T extends boolean>(
    id: string,
    matched: T
  ): AsyncResult<T extends true ? MatchedOrder : CreateOrder, string>;
  
  getMatchedOrders(
    address: string,
    pending: boolean,
    paginationConfig?: PaginationConfig
  ): AsyncResult<PaginatedData<MatchedOrder>, string>;
  
  getUnMatchedOrders(
    address: string,
    paginationConfig?: PaginationConfig
  ): AsyncResult<PaginatedData<CreateOrder>, string>;
  
  getOrders<T extends boolean>(
    matched: T,
    paginationConfig?: PaginationConfig
  ): AsyncResult<
    PaginatedData<T extends true ? MatchedOrder : CreateOrder>,
    string
  >;
  
  subscribeOrders<T extends boolean>(
    account: string,
    matched: T,
    interval: number,
    cb: (
      orders: PaginatedData<T extends true ? MatchedOrder : CreateOrder>
    ) => Promise<void>,
    pending?: boolean,
    paginationConfig?: PaginationConfig
  ): Promise<() => void>;
  
  getOrdersCount(address: string): AsyncResult<number, string>;
}
```

## IOrderbook

Extends IOrderProvider with order creation capabilities.

```typescript
interface IOrderbook extends IOrderProvider {
  createOrder(
    order: CreateOrderRequestWithAdditionalData,
    auth: IAuth
  ): AsyncResult<string, string>;
  
  getOrder<T extends boolean>(
    id: string,
    matched: T
  ): AsyncResult<T extends true ? MatchedOrder : CreateOrder, string>;
  
  getMatchedOrders(
    address: string,
    status: Status,
    paginationConfig?: PaginationConfig
  ): AsyncResult<PaginatedData<MatchedOrder>, string>;
  
  getUnMatchedOrders(
    address: string,
    paginationConfig?: PaginationConfig
  ): AsyncResult<PaginatedData<CreateOrder>, string>;
  
  getOrders<T extends boolean>(
    matched: T,
    paginationConfig?: PaginationConfig
  ): AsyncResult<
    PaginatedData<T extends true ? MatchedOrder : CreateOrder>,
    string
  >;
  
  subscribeOrders<T extends boolean>(
    account: string,
    matched: T,
    interval: number,
    cb: (
      orders: PaginatedData<T extends true ? MatchedOrder : CreateOrder>
    ) => Promise<void>,
    status?: Status,
    paginationConfig?: PaginationConfig
  ): Promise<() => void>;
  
  getOrdersCount(address: string): AsyncResult<number, string>;
}
```

## ISecretManager

Manages cryptographic secrets for atomic swaps.

```typescript
interface ISecretManager extends EventBroker<SecretManagerEvents> {
  readonly isInitialized: boolean;
  initialize: () => AsyncResult<string, string>;
  getDigestKey: () => AsyncResult<string, string>;
  generateSecret: (nonce: number) => AsyncResult<Secret, string>;
}
```

<Note>
The ISecretManager handles secure generation and management of secrets required for atomic swaps.
</Note>

## IBlockNumberFetcher

Fetches current block numbers from supported chains.

```typescript
interface IBlockNumberFetcher {
  fetchBlockNumbers(): AsyncResult<Response, string>;
}
```

## IHTLCWallet

Base interface for HTLC wallet operations.

```typescript
interface IHTLCWallet {
  id(): string;
  init(): Promise<string>;
  redeem(secret: string, receiver?: string): Promise<string>;
  refund(receiver?: string): Promise<string>;
}
```

## IEVMHTLC

Interface for EVM-based HTLC operations.

```typescript
interface IEVMHTLC {
  /**
   * Returns the HTLC actor address.
   * This is the user's wallet address in the case of EVM.
   */
  get htlcActorAddress(): string;

  /**
   * Initiates the HTLC by sending funds to the HTLC contract.
   * @param order - The matched order.
   * @returns A promise resolving to the transaction hash of the initiation.
   */
  initiate(order: MatchedOrder): AsyncResult<string, string>;

  /**
   * Redeems funds from the HTLC contract to the actor's address.
   * @param order - The matched order.
   * @param secret - The secret required to unlock the htlc.
   * @returns A promise resolving to the transaction hash of the redemption.
   */
  redeem(order: MatchedOrder, secret: string): AsyncResult<string, string>;

  /**
   * Refunds funds from the HTLC contract back to the actor's address upon expiration.
   * @param order - The matched order.
   * @returns A promise resolving to the transaction hash of the refund.
   */
  refund(order: MatchedOrder): AsyncResult<string, string>;
}
```

## IStarknetHTLC

Interface for Starknet-based HTLC operations.

```typescript
interface IStarknetHTLC {
  /**
   * The address of the HTLC actor.
   */
  get htlcActorAddress(): string;
  
  /**
   * Initiates the HTLC by sending funds to the HTLC contract.
   * @param order - The matched order.
   * @returns A promise resolving to the transaction hash of the initiation.
   */
  initiate(order: MatchedOrder): AsyncResult<string, string>;

  /**
   * Redeems funds from the HTLC contract to the actor's address.
   * @param order - The matched order.
   * @param secret - The secret required to unlock the htlc.
   * @returns A promise resolving to the transaction hash of the redemption.
   */
  redeem(order: MatchedOrder, secret: string): AsyncResult<string, string>;

  /**
   * Refunds funds from the HTLC contract back to the actor's address upon expiration.
   * @param order - The matched order.
   * @returns A promise resolving to the transaction hash of the refund.
   */
  refund(order: MatchedOrder): AsyncResult<string, string>;
}
```

<Warning>
All HTLC operations are time-sensitive. Make sure to handle timeouts and refunds appropriately.
</Warning>

## Next Steps

<CardGroup cols={2}>
  <Card title="Enumerations" href="/developers/sdk/enumerations">
    Explore the SDK enumerations and types
  </Card>
  <Card title="SDK Integration" href="/developers/sdk/sdk">
    Learn how to integrate the Garden SDK
  </Card>
</CardGroup> 